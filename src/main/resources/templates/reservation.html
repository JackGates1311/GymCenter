<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org">

<head>

    <title>Reserved workouts</title>

    <div th:insert="/fragments/header :: header"></div>

</head>
<body>

    <div th:insert="/fragments/reservationSearch :: reservationSearchModal"></div>

    <div th:insert="/fragments/navigationBar :: navBar"></div>

    <div class="center paddingSmall w-90">

        <div class="table-responsive scrollable">

            <table class="table table-bordered w-100">

                <thead class="thead-light">

                <tr>

                    <th th:if="${isAdministrator}" scope="col"> Customer </th>
                    <th scope="col"> Workout Name </th>
                    <th scope="col"> Workout Coaches</th>
                    <th scope="col"> Workout Org. Type</th>
                    <th scope="col"> Workout Period Start</th>
                    <th scope="col"> Workout Time Reservation</th>
                    <th scope="col"> Workout Price</th>
                    <th th:if="${isAdministrator} == false" scope="col"> Actions </th>

                </tr>

                </thead>

                <tbody>

                <tr th:each="tempWorkoutReservations:${workoutReservations}">

                    <td th:if="${isAdministrator}" th:text="${tempWorkoutReservations.userName}"></td>

                    <td th:text="${tempWorkoutReservations.workoutName}"></td>

                    <td th:text="${tempWorkoutReservations.workoutCoaches}"></td>

                    <td th:text="${tempWorkoutReservations.workoutOrganizationType}"></td>

                    <td th:text="${#temporals.format(tempWorkoutReservations.workoutDateTimeStart,
                        'dd.MM.yyyy. HH:mm')}"></td>

                    <td th:text="${#temporals.format(tempWorkoutReservations.periodDateTimeReservation, 'dd.MM.yyyy. HH:mm')}"></td>

                    <td th:text="${tempWorkoutReservations.workoutPrice}"></td>

                    <td th:if="${isAdministrator} == false">

                        <div class="inlineFlex alignCenter w-100">

                            <a th:href="@{'/cancelReservation?id=' + ${tempWorkoutReservations.periodReservationId}}"
                               th:if="${#temporals.format(tempWorkoutReservations.workoutDateTimeStart,
                                'dd.MM.yyyy. HH:mm')} > ${#temporals.format(isCancelReservationExpired,
                                'dd.MM.yyyy. HH:mm')}" >
                                Cancel reservation </a>

                        </div>

                    </td>

                </tr>

                </tbody>

            </table>

        </div>

    </div>

</body>
</html>
<!DOCTYPE html>

<html lang="en" xmlns:th="http://thymeleaf.org">

<body>

<div th:fragment="addWorkoutToShoppingCartModal" class="modal fade" tabindex="-1"
     th:id="${accessFromIndexPage} ? @{'btnAddWorkoutToShoppingCart' + ${tempWorkouts.workoutId}} : 'btnAddWorkoutToShoppingCart'" role="dialog">

    <div class="modal-dialog modal-dialog-centered" role="document">

        <div class="modal-content">

            <div class="modal-header text-center">

                <h4 class="modal-title w-100">Reserve period for workout</h4>

            </div>

            <div class="modal-body">

                <form th:action="@{/addWorkoutToShoppingCart}" th:object="${addWorkoutToShoppingCartForm}" method="post"
                      id="addWorkoutToShoppingCartForm" name="addWorkoutToShoppingCartForm">

                    <div class="form-row">

                        <div class="form-group col-md-12 textAlignLeft">

                            <label for="workoutPeriodId">Available periods:</label>

                            <select class="form-control" id="workoutPeriodId" name="workoutPeriodId" required="true">

                                <option value="" hidden></option>

                                <div th:if="${accessFromIndexPage}">

                                    <option th:each="tempWorkoutListPeriod:${workoutListPeriod}"
                                            th:if="${tempWorkoutListPeriod.workoutId} == ${tempWorkouts.workoutId}"
                                            th:value="${tempWorkoutListPeriod.periodId}" th:text="@{'Auditorium ' +
                                        ${tempWorkoutListPeriod.auditoriumId} + ' on ' +
                                        ${#temporals.format(tempWorkoutListPeriod.workoutDateTimeStart,
                                        'dd.MM.yyyy HH:mm')}}"></option>

                                </div>

                                <div th:if="${accessFromWorkoutDetailsPage}">

                                    <option th:each="tempWorkoutListPeriod:${workoutListPeriod}"
                                            th:value="${tempWorkoutListPeriod.periodId}" th:text="@{'Auditorium ' +
                                        ${tempWorkoutListPeriod.auditoriumId} + ' on ' +
                                        ${#temporals.format(tempWorkoutListPeriod.workoutDateTimeStart,
                                        'dd.MM.yyyy HH:mm')}}"></option>

                                </div>

                            </select>

                        </div>

                    </div>

                    <div class="form-row">

                        <div class="col-md-12">

                            <div class="inlineFlex w-100 marginTopDefault">

                                <input type="button" id="btnCancel" class="btn btn-light"

                                       data-dismiss="modal" value="Cancel"/>

                                <input type="submit" id="btnReserve" class="btn btn-light"
                                       value="Add to cart"/>

                            </div>

                        </div>

                    </div>

                </form>

            </div>

        </div>

    </div>

    <script src="js/addNewPeriod.js" type="text/javascript"></script>

</div>

</body>

</html>